/*
 RequireJS order 1.0.5 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

!function(){function t(t){var i,e=t.currentTarget||t.srcElement;if("load"===t.type||r.test(e.readyState)){for(t=e.getAttribute("data-requiremodule"),n[t]=!0,t=0;(i=l[t])&&n[i.name];t++)i.req([i.name],i.onLoad);t>0&&l.splice(0,t),setTimeout(function(){e.parentNode.removeChild(e)},15)}}function i(t){var i,e;for(t.setAttribute("data-orderloaded","loaded"),t=0;(e=h[t])&&((i=d[e])&&"loaded"===i.getAttribute("data-orderloaded"));t++)delete d[e],require.addScriptToDom(i);t>0&&h.splice(0,t)}var e="undefined"!=typeof document&&"undefined"!=typeof window&&document.createElement("script"),s=e&&(e.async||window.opera&&"[object Opera]"===Object.prototype.toString.call(window.opera)||"MozAppearance"in document.documentElement.style),o=e&&"uninitialized"===e.readyState,r=/^(complete|loaded)$/,l=[],n={},d={},h=[],e=null;define("order",{version:"1.0.5",load:function(e,r,n,a){var c;r.nameToUrl?(c=r.nameToUrl(e,null),require.s.skipAsync[c]=!0,s||a.isBuild?r([e],n):o?(a=require.s.contexts._,!a.urlFetched[c]&&!a.loaded[e]&&(a.urlFetched[c]=!0,require.resourcesReady(!1),a.scriptCount+=1,c=require.attach(c,a,e,null,null,i),d[e]=c,h.push(e)),r([e],n)):r.specified(e)?r([e],n):(l.push({name:e,req:r,onLoad:n}),require.attach(c,null,e,t,"script/cache"))):r([e],n)}})}(),!function(t){t("datagrid",["signals","classy","order!dragevent","order!mousewheel","order!slickcore","order!slickgrid","order!slickdataview"],function(t,i){return i.$extend({__init__:function(i){var e=this;this.isFiltered=!1,this.slickgrid=null,this.container=i.empty(),this.innerGridContainer=$(this.$class.innerSlickGridHTML).appendTo(this.container),this.vSlider=null,this.hSliderTop=null,this.hSliderBottom=null,this.filteredColumns=[],this.columns=[],this.data=[],this.options={},this.onClick=new t.Signal,this.onColumnOrderChanged=new t.Signal,this.onHeaderClick=new t.Signal,this.onHeaderCellRendered=new t.Signal,this.onViewRowCountChanged=function(t,i){e.slickgrid.updateRowCount(),e.slickgrid.render()},this.onViewRowsChanged=function(t,i){e.slickgrid.invalidateRows(i.rows),e.slickgrid.render()}},update:function(t,i,e,s,o){var r,l=this,n=void 0!==s&&void 0!==o;i="undefined"==typeof i?this.columns:i,e="undefined"==typeof e?this.options:e,this.slickgrid?(this.setData(t),this.setColumns(i,!0),this.setOptions(e),n?this.filterNumericColumns(s,o):this.slickgrid.setColumns(i),this.resetHSliders(),this.checkScroll()):(this.setData(t),this.setColumns(i),this.setOptions(e),r=n?this.filterNumericColumns(s,o):this.filterHiddenColumns(this.options.addSpacerColumn?this.columns.concat([this.$class.spacerColumnOps]):this.columns),this.slickgrid=new Slick.Grid(this.innerGridContainer,this.data,r,this.options),this.slickgrid.onClick.subscribe(function(t,i){l.onClick.dispatch(i.row,i.cell,l.slickgrid.getDataItem(i.row),t)}),this.slickgrid.onSort.subscribe(function(t,i){l.data.sort(function(t,e){var s=i.sortCol.field,o=i.sortAsc?1:-1,r=t[s],l=e[s],n=(r==l?0:r>l?1:-1)*o;return n="undefined"==typeof r||"string"==typeof r&&""==r?1:"undefined"==typeof l||"string"==typeof l&&""==l?-1:n,0!=n?n:0}),l.slickgrid.invalidate(),l.slickgrid.render()}),this.slickgrid.onColumnsReordered.subscribe(function(t,i){l.resetHSliders(),l.checkScroll(),l.onColumnOrderChanged.dispatch(t,i)}),this.slickgrid.onColumnsResized.subscribe(function(t,i){l.resetHSliders(),l.checkScroll()}),this.slickgrid.onHeaderClick.subscribe(function(t,i){l.onHeaderClick.dispatch(t,i)}),this.slickgrid.onHeaderCellRendered.subscribe(function(t,i){l.onHeaderCellRendered.dispatch(t,i)}),this.checkScroll(),this.options.scrollToRight&&this.scrollToRight())},outputToArrOfArrs:function(t){t=void 0===t||t;var i,e,s,o,r,l,n,d,h,a=t&&this.isFiltered?this.filteredColumns:this.columns,c=[];for(c.push(o=[]),i=0;i<a.length;i++)r=a[i],l=void 0===r.output||r.output,l&&o.push('"'+("undefined"!=typeof r.name?r.name:r.id)+'"');for(i=0;i<(this.data.getLength?this.data.getLength():this.data.length);i++)for(s=this.data.getItem?this.data.getItem(i):this.data[i],c.push(o=[]),e=0;e<a.length;e++)r=a[e],l=void 0===r.output||r.output,l&&(n=[i,e,r&&"function"==typeof this.options.dataItemColumnValueExtractor?this.options.dataItemColumnValueExtractor(s,r):s[r.field],r,s],d=r.outputFormatter?r.outputFormatter.apply(this,n):r.dataFormatter?r.dataFormatter.apply(this,n):n[2]||"",void 0!==d&&(h=d.toString().replace(/,/g,"")),o.push(isNaN(h)?'"'+(d?d:"")+'"':h));return c},processColumns:function(t){var i,e;for(i=0;i<t.length;i++)e=t[i],e.formatter=this.$class.defaultFormatter;return t},filterHiddenColumns:function(t){return $.map(t,function(t){return t.display===!1?null:t})},checkScroll:function(){var t,i,e,s,o=this,r=$(".slick-viewport",this.container),l=$(".slick-pane",this.container);this.options.frozenColumn>=0?(i=r.filter(".slick-viewport-top.slick-viewport-right"),t=l.filter(".slick-pane-top.slick-pane-right")):(i=r.filter(".slick-viewport-top.slick-viewport-left"),t=l.filter(".slick-pane-top.slick-pane-left")),(e=function(){this.vSlider?this.vSlider.css("height",i.height()-30):(this.vSlider=$("<div/>").appendTo(this.container).css({position:"relative",float:"left",height:i.height()-30,marginTop:20,marginBottom:10,marginLeft:10}).slider({orientation:"vertical",min:0,max:100,value:100,slide:function(t,e){(function(){this.scrollTop=(this.scrollHeight-this.offsetHeight)*((100-e.value)/100)}).call(i.get(0))}}),i.scroll(function(){o.vSlider.slider("value",100-100*this.scrollTop/(this.scrollHeight-this.offsetHeight))}),this.innerGridContainer.width(this.container.width()-this.vSlider.width()-20).css("float","left"),this.slickgrid.resizeCanvas()),i.get(0).scrollHeight>i.height()?this.vSlider.slider("option","disabled",!1):this.vSlider.slider("option","disabled",!0)}).call(this),(s=function(){var s,o,r,n=this;this.hSliderTop||this.hSliderBottom?(this.hSliderTop.css("width",i.width()-28),this.hSliderBottom.css("width",i.width()-28)):(s=l.find(".slick-header").eq(0),r=s.position(),o=t.position(),this.hSliderTop=$("<div/>").appendTo(this.container).css({position:"absolute",top:r.top+s.height()-13,left:o.left,width:i.width()-28,marginRight:30}).slider({min:0,max:100,value:0,slide:function(t,e){(function(){this.scrollLeft=(this.scrollWidth-this.offsetWidth)*(e.value/100),n.hSliderBottom.slider("value",e.value)}).call(i.get(0))}}).addClass("hSliderTop"),this.hSliderBottom=$("<div/>").appendTo(this.container).css({position:"absolute",bottom:0,left:o.left,width:i.width()-28,marginRight:30}).slider({min:0,max:100,value:0,slide:function(t,e){(function(){this.scrollLeft=(this.scrollWidth-this.offsetWidth)*(e.value/100),n.hSliderTop.slider("value",e.value)}).call(i.get(0))}}).addClass("hSliderBottom"),i.scroll(function(){n.hSliderTop.slider("value",100*this.scrollLeft/(this.scrollWidth-this.offsetWidth)),n.hSliderBottom.slider("value",100*this.scrollLeft/(this.scrollWidth-this.offsetWidth))}),this.innerGridContainer.height(this.container.height()-this.hSliderBottom.height()-20),e.call(this)),i.get(0).scrollWidth>i.width()?(this.hSliderBottom.slider("option","disabled",!1),this.hSliderTop.slider("option","disabled",!1),i.scroll()):(i.scroll(),this.hSliderBottom.slider("option","disabled",!0),this.hSliderTop.slider("option","disabled",!0),this.slickgrid.autosizeColumns())}).call(this)},scrollToRight:function(){var t,i=$(".slick-viewport",this.container);t=this.options.frozenColumn>=0?i.filter(".slick-viewport-top.slick-viewport-right"):i.filter(".slick-viewport-top.slick-viewport-left"),t.get(0).scrollLeft=t.get(0).scrollWidth},filterNumericColumns:function(t,i){var e,s;for(this.filteredColumns=[],e=0;e<this.columns.length;e++)s=this.columns[e],isNaN(s.id)?this.filteredColumns.push(s):s.id>=t&&s.id<=i&&this.filteredColumns.push(s);var o=this.filterHiddenColumns(this.options.addSpacerColumn?this.filteredColumns.concat([this.$class.spacerColumnOps]):this.filteredColumns);return this.slickgrid&&(this.slickgrid.setColumns(o),this.isFiltered=!0,this.resetHSliders(),this.checkScroll(),this.options.scrollToRight&&this.scrollToRight()),o},setColumns:function(t,i){this.columns=this.processColumns(t),this.isFiltered=!1,this.slickgrid&&!i&&(this.slickgrid.setColumns(this.filterHiddenColumns(this.options.addSpacerColumn?this.columns.concat([this.$class.spacerColumnOps]):this.columns)),this.resetHSliders(),this.checkScroll(),this.options.scrollToRight&&this.scrollToRight())},setData:function(t){this.data=t,this.slickgrid&&(this.slickgrid.setData(t),this.resetHSliders(),this.checkScroll())},setOptions:function(t){this.options=$.extend(!0,{},this.$class.defaultOptions,t),this.slickgrid&&this.slickgrid.setOptions(this.options)},redraw:function(t){t?this.slickgrid.invalidateRows(t):this.slickgrid.invalidateAllRows(),this.slickgrid.render()},resetHSliders:function(){this.hSliderBottom.remove(),this.hSliderTop.remove(),this.hSliderBottom=this.hSliderTop=null},destroy:function(){this.slickgrid&&this.slickgrid.destroy()},__classvars__:{defaultOptions:{enableCellNavigation:!1,enableColumnReorder:!1},spacerColumnOps:{id:"spacer",name:" ",autoWidth:!0},innerSlickGridHTML:'<div class="inner-slickgrid-container"></div>',defaultFormatter:function(t,i,e,s,o){var r=s.dataFormatter?s.dataFormatter.apply(this,arguments):e,l=s.displayFormatter?s.displayFormatter.call(this,t,i,r,s,o):r;return l},autosizeColumn:function(t,i,e,s){var o,r,l,n,d=$("<div/>").addClass("slick-cell").addClass("ui-widget").css({width:"auto",position:"absolute",top:1e3,left:0}).appendTo("body"),h=t[i],a=0;for(o=0;o<(e.getLength?e.getLength():e.length);o++)r=e.getItem?e.getItem(o):e[o],l=r[h.field],d.html(h.formatter?h.formatter(o,i,l,h,r):h.displayFormatter?h.displayFormatter(o,i,l,h,r):h.dataFormatter?h.dataFormatter(o,i,l,h,r):l),a=Math.max(a,d.outerWidth());n=a+(void 0!=s?s:0),d.remove(),h.width=void 0!==h.maxWidth?Math.min(n,h.maxWidth):n},linkSelectorFunction:function(t,i,e){var s,o,r,l={},n=$(t),d=n.offset(),h=$(),a=0;return l[t]||(l[t]=$(".slick-row",n).get(),l[t].sort(function(t,i){var e=$(t).offset().top,s=$(i).offset().top;return e<s?-1:e>s?1:0})),$.each(l[t],function(t,l){o=$(l);var n=o.offset();return!(n.top>d.top)||(r=$(i,o),r.each(function(i,o){h=$(o);var l=h.offset();if(l.left>d.left){if(void 0===s&&(s=Math.min(e,r.length-t)),a==s)return!1;a++}}),!1)}),h}}})})}("function"==typeof define&&"object"==typeof define.amd?define:function(t,i){var e;for(e=0;e<t.length;e++)t[e]=this[t[e]];this.datagrid=i.apply(this,t)});