define("timeSliderInput",["timeSlider","dateCodeUtils"],function(TimeSlider,dateCodeUtils){return TimeSlider.$extend({createSlider:function(){this.$super();var self=this;this.lowLabel.empty().append('<input type="text"></input');var blurLow=function(event){event.target!=$("input",self.lowLabel).get(0)&&$("input",self.lowLabel).blur()},blurHigh=function(event){event.target!=$("input",self.highLabel).get(0)&&$("input",self.highLabel).blur()};$("input",this.lowLabel).on("focusin",function(event){$("input",this.lowLabel).val(""),$(window).on("click",blurLow),$(".highcharts-container").on("click",blurLow)}),$("input",this.lowLabel).on("focusout",function(event){var oldval=self.lowVal,newval=self.parseLabelInput($("input",self.lowLabel).val());console.log(newval),$.inArray(newval,self.values)==-1?$("input",self.lowLabel).val(self.formatLabel(oldval)):self.timeSelectionChanged.dispatch(newval,self.highVal),$(window).off("click",blurLow),$(".highcharts-container").off("click",blurLow)}),this.sliderType===this.$class.RANGE_SLIDER&&(this.highLabel.empty().append('<input type="text"></input'),$("input",this.highLabel).on("focusin",function(event){$("input",this.highLabel).val(""),$(window).on("click",blurHigh),$(".highcharts-container").on("click",blurHigh)}),$("input",this.highLabel).on("focusout",function(event){var oldval=self.highVal,newval=self.parseLabelInput($("input",self.highLabel).val());console.log(newval),$.inArray(newval,self.values)==-1?$("input",self.highLabel).val(self.formatLabel(oldval)):self.timeSelectionChanged.dispatch(self.lowVal,newval),$(window).off("click",blurHigh),$(".highcharts-container").off("click",blurHigh)}))},updateLabel:function(low){var label=low?this.lowLabel:this.highLabel;if(label&&label.length>0){var value=low?this.lowVal:this.highVal,handle=low?this.lowHandle:this.highHandle,input=label.find("input");input.val(this.formatLabel(value)),this.sliderType===this.$class.SINGLE_SLIDER?label.css({left:-0.5*input.width()+.5*handle.width()}):low||label.css({left:this.timeSlider.width()-input.width()})}},formatLabel:function(value){return dateCodeUtils.formatDateCode(value,this.freq)},parseLabelInput:function(input){return input}})})